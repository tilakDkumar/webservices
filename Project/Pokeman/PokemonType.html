<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/v4-shims.css">

<title>Title</title>
</head>
<body>

    <!--navigation bar -->
 <div>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="index.html">
            <img src="../Pokeman/img/logo.png" width="70" height="40" class="d-inline-block align-top" alt="">
          
          </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse  justify-content-center" id="navbarNav">
          <ul class="navbar-nav">
           
            <li class="nav-item">
              <a class="nav-link" href="./stats.html">Stats</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./CTE.html">Candy to Evolve
            </a>
            </li>
            <li class="nav-item">
              <a class="nav-link " href="./PBD.html">Pokemon Buddy Distances</a>
            </li>
            <li class="nav-item">
                <a class="nav-link " href="./PMCP.html">Pokemon Maximum CP</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " href="./FastMovies.html"> Fast Moves</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " href="./pokName.html">
                    Pokemon Names</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " href="./PokemonType.html">Pokemon Types
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link " href="./PED.html">Pokemon Encounter Data
                </a>
              </li>
            <li class="nav-item">
              <a class="nav-link " href="../index.html">Main_Home</a>
            </li>
          </ul>
        </div>
      </nav>
</div>
<!--End of navigation bar-->
<div class="container">
    <h3>About</h3>
    <p>All Pokemon have either one or two types, these types affect the strength of moves and weaknesses it has to 
        opponents moves. This API lists the types of each Pokemon. Returns a JSON array where each element is a dict 
        containing type (an array of one or two items), Pokemon ID, Pokemon name and optionally the form.</p>
         <div class="row">
         
          <div class="col-5">
            <img src="../Pokeman/img/s10.jpg" height="250px" width="350px">
    
        </div>
        <div class="col-3">
          <p>More Details About  Pokemon </p>
          <button type="text" onclick="onSearch()" class="btn btn-muted  my-1">click Here </button></div>
        
    </div>
       
    <div>
      <p id="disp" class="text-center font-weight-bold"></p>
    </div>
          <div>
            
            <ul id="list"  class=" font-weight-bold" >
    
            </ul>
          </div>
</div>



<!---Script-->

<script>
  function onSearch(){
    var data = null;

var xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
	if (this.readyState === this.DONE) {
		console.log(this.responseText);
        var res=this.responseText;
        var jsonObj=JSON.parse(res);
         console.log(jsonObj);
         for(var i in jsonObj){
         var outArray=jsonObj[i];
         console.log(outArray)
         var innerArray=outArray.type;
         if(innerArray.length>0){
            for(var t=0;t<innerArray.length;t++){
                                            var cert=innerArray[t];
                                            console.log(cert)
                                            var liEle=document.createElement('li');
               liEle.innerHTML=`Name:${outArray.pokemon_name}</br>Id:${outArray.pokemon_id}</br> type:${cert}</br>form:${outArray.form}</br>`;
                liEle.setAttribute("class","list-group-item");
                  document.getElementById('list').appendChild(liEle);
            }
         }
         
         }
	}
});

xhr.open("GET", "https://pokemon-go1.p.rapidapi.com/pokemon_types.json");
xhr.setRequestHeader("x-rapidapi-host", "pokemon-go1.p.rapidapi.com");
xhr.setRequestHeader("x-rapidapi-key", "4a570675a8mshbad696777abe79ap1496e7jsn70f3c360ae33");

xhr.send(data);
  }
</script>

</body>
</html>